# 데이터베이스 Lock 

## Lock 이란? 
트랜잭션에 UPDATE중인 데이터에 대한 Lock을 제공하고 트랜잭션이 락을 반납할때 까지 데이터에 대한 다른 트랜잭션의 UPDATE을 차단한다. 

## Lock의 존재 이유
A트랜잭션이 데이터를 수정하고 Commit하기전의 상황에 B트랜잭션이 해당 데이터를 수정한다면 트랜잭션의 격리성이 보장되지 않을뿐더러 데이터 정합성에 문제가 발생한다. 

이로 인해 트랜잭션이 데이터에 대한 Lock을 가지고 있다가 종료시점에 반납하고 타 트랜잭션은 락이 반납될때 까지 대기하게 된다.

## Lock의 종류
* Shared Lock(공유 Lock, Read Lock)
    * 데이터의 동시 읽기는 허용한다. 
    * 데이터의 일관성과 무결성을 해치지 않으면서 성능을 높이기 위해 사용 
    * 읽기 작업이 많은 환경에서 적합하다.
    * 다른 트랜잭션이 데이터 읽기는 가능하지만 변경하는 것은 불가능하다. 
* Exclusive Lock(배타적 Lock, Write Lock)
    * 다른 트랜잭션의 데이터 조회, 수정을 막는다. 
    * 데이터의 일관성과 무결성을 보장하기 위한 Lock
    * 데이터의 무결성을 촘촘하게 보장할 수 있으나 병행성이 저하되기 때문에 Shared Lock 과의 적절한 조합이 필요하다. 

## Blokcing 
    