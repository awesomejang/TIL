# [JWT] JWT(JSON Web Token)의 개념
> JWT는 일반적으로 클라유저를 인증하고 식별하기 위한 토큰(Token) 기반 인증이다. JWT는 일반적으로         클라이언트와 서버, 서비스와 서비스 사이 통신 시 권한 인가(Authorization)를 위해 사용하는 토큰이다. URL에 대해 안전한 문자열로 구성되어 있기 때문에 HTTP 어디든(URL, Header...) 위치할 수 있다.

>주로 회원 인증이나 정보 전달에 사용되며 세션과 달리 클라이언트에 저장되기 때문에 메모리, 스토리지 등을 통해 세션을 관리했던 서버의 부담을 덜 수 있으며 단순히 HTTP 헤더에 토큰을 첨부하는 것만으로도 단순하게 데이터를 요청하고 응답을 받을 수 있다. 
일반적으로 JWT를 통한 검증은 아래의 순서로 진행된다. 

**일반적으로 JWT를 통한 검증은 아래의 순서로 진행된다.**

1. 클라이언트가 특정 인증정보를 서버로 전송하여 서비스 인증 

2. 서버는 인증된 JWT를 생성하여 클라이언트에 제공

3. 클라이언트가 추가적인 요청할 때 JWT를 HTTP 헤더에 첨부하여 요청

4. 서버는 헤더에 첨부된 JWT를 검증하여 응답 수행

>JWT는 Base64 기반의 인코딩하여 직렬화했기 때문에 토큰 내부에 위변조 방지를 위한 개인키를 통한 전자서명이 포함되어있다. 그렇기에 JWT를 전송받은 서버는 서명을 검증하고 검증이 정상적으로 진행되면 응답을 돌려준다.


# JWT의 구조

__JWT는 크게 Header, Payload, Signature로 구성되며 세 부분을 점(.)으로 구분하는 구조이다.__

![](https://ssup2.github.io/images/theory_analysis/JWT/JWT.PNG)

## __Header__

__JWT는 인증정보를 포함하고 있는 Base64 기반의 인코딩 문자열이다. 헤더(Header)는 이 문자열을 어떻게 검증하는가에 대한 내용(JWT에서 사용할 토큰 타입, 해시 알고리즘 종류…)을 담고 있다.__

```java
{
  "typ" : "JWT",  // 토큰의 타입을 지정
  "alg" : "HS256" // 해시 알고리즘 종류
}
```

## __Payload__

__Payload에는 토큰이 전달하려는 정보가 포함돼있습니다. 정보의 한 조각을 클레임(Claim)이라고 부르고, key - value 타입으로 구성돼있습니다. 토큰에는 여러 클레임을 입력할 수 있습니다.__

클레임은 크게 3종류가 있습니다.  [RFC 7519 클레임 종류](https://datatracker.ietf.org/doc/html/rfc7519#section-4)




